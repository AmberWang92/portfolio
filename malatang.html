<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Malatang - Xinyue Wang</title>
    <link rel="stylesheet" href="css/project-styles.css">
</head>

<body>

    <header>
        <div class="container">
            <nav>
                <a href="index.html" class="logo">Xinyue Wang</a>
                <ul class="nav-links">
                    <li><a href="index.html#about">About</a></li>
                    <li><a href="index.html#portfolio" class="active">Portfolio</a></li>
                    <li><a href="index.html#resume">Resume</a></li>
                    <li><a href="index.html#contact">Contact</a></li>
                    <span class="nav-indicator" aria-hidden="true"></span>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <div class="container">
            <a href="index.html#portfolio" class="back-link">
                ← Back to Portfolio
            </a>
        </div>

        <section class="video-section">
            <div class="container">
                <div class="video-wrapper">
                    <iframe src="" title="Malatang" frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                        referrerpolicy="strict-origin-when-cross-origin" allowfullscreen>
                    </iframe>
                </div>
            </div>
        </section>

        <section class="project-header">
            <div class="container">
                <h1 class="project-title">Malatang</h1>

                <div class="tags-container">
                    <span class="tag">Unity</span>
                    <span class="tag">C#</span>
                    <span class="tag">3D Platformer</span>
                </div>

                <div class="game-links">
                    <iframe src="https://itch.io/embed/3284913?dark=true&linkback=true" frameborder="0"
                        style="width:552px; height:167px; border:none; max-width:100%;">
                    </iframe>
                </div>
            </div>
        </section>

        <section class="description-section">
            <div class="container">
                <h2 class="section-heading">About the Project</h2>
                <div class="description-layout">
                    <img src="pictures/YOUR_IMAGE.jpg" alt="Malatang screenshot">
                    <div class="description-text">
                        <p>
                            My first game — a <strong>3D casual platformer</strong> built in Unity.
                            <br>
                            <br>
                            Malatang is a very popular dish in China, and everyone loves it! The player explores the
                            level to collect <strong>three ingredients</strong>, then finds the
                            pot and cooks them all together.
                            <br>
                            <br>
                            This project was my introduction to <strong>Unity game development</strong>,
                            teaching me the fundamentals of <strong>gameplay programming</strong>: <strong>3D
                                movement</strong>,
                            <strong>inventory</strong>, <strong>level design</strong>, 3D assets
                            <strong>implementation</strong>, and <strong>sound design</strong>.
                        </p>
                        <br>
                    </div>
                </div>

                <h2 class="section-heading">Challenges & Key Learnings</h2>
                <div class="accordion" id="contrib-accordion">
                    <div class="accordion-item">
                        <button class="accordion-header" aria-expanded="false">
                            <span class="accordion-title">
                                <span class="dropdown-leading-icon" aria-hidden="true">
                                    <svg viewBox="0 0 24 24" aria-hidden="true">
                                        <path d="M4 17l6-6-6-6M12 19h8" />
                                    </svg>
                                </span>
                                Game Design & Mechanics
                            </span>
                            <span class="accordion-icon">+</span>
                        </button>
                        <div class="accordion-content">
                            <ul>
                                <li>Designing a <strong>clear and intuitive collectible loop</strong> for a first-time
                                    player</li>
                                <li>Balancing <strong>level layout</strong> to guide the player without explicit
                                    instructions</li>
                                <li>Handling <strong>collision detection</strong> for ingredient pickups and the cooking
                                    pot trigger</li>
                            </ul>
                            <div class="sub-accordion"></div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <button class="accordion-header" aria-expanded="false">
                            <span class="accordion-title">
                                <span class="dropdown-leading-icon" aria-hidden="true">
                                    <svg viewBox="0 0 24 24" aria-hidden="true">
                                        <rect x="3" y="3" width="7" height="7" rx="1" />
                                        <rect x="14" y="3" width="7" height="7" rx="1" />
                                        <rect x="3" y="14" width="7" height="7" rx="1" />
                                        <rect x="14" y="14" width="7" height="7" rx="1" />
                                    </svg>
                                </span>
                                Technical Implementation
                            </span>
                            <span class="accordion-icon">+</span>
                        </button>
                        <div class="accordion-content">
                            <ul>
                                <li>Implemented <strong>3D character movement</strong> with physics-based controls</li>
                                <li>Built a <strong>collectible tracking system</strong> using C# scripts</li>
                                <li>Created a <strong>win condition trigger</strong> when all ingredients are cooked
                                </li>
                                <li>Learned Unity's <strong>scene management</strong> and <strong>UI system</strong> for
                                    game state feedback</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="project-nav-section">
            <div class="container">
                <div class="project-nav">
                    <a class="nav-arrow prev" href="mr_game.html">
                        <span class="arrow-icon">←</span>
                        <div class="nav-text-group">
                            <span class="nav-label">Previous Project</span>
                            <span class="nav-title">MR Game: Ghost Gym</span>
                        </div>
                    </a>
                    <div class="nav-arrow next disabled">
                        <div class="nav-text-group">
                            <span class="nav-label">Next Project</span>
                            <span class="nav-title">Coming Soon</span>
                        </div>
                        <span class="arrow-icon">→</span>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer id="contact">
        <div class="container">
            <h2>Contact Me</h2>
            <div style="display: flex; justify-content: center; gap: 30px; margin: 30px 0; flex-wrap: wrap;">
                <a href="https://github.com/AmberWang92" target="_blank"
                    style="background: transparent; border: none; padding: 0; transition: opacity 0.3s;">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="white">
                        <path
                            d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
                    </svg>
                </a>
                <a href="https://linkedin.com/in/xinyuewang92" target="_blank"
                    style="background: transparent; border: none; padding: 0; transition: opacity 0.3s;">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="white">
                        <path
                            d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" />
                    </svg>
                </a>
                <a href="https://zombieeeee.itch.io" target="_blank"
                    style="background: transparent; border: none; padding: 0; transition: opacity 0.3s;">
                    <svg width="32" height="32" viewBox="0 0 512 512" fill="white">
                        <path
                            d="M71.92 34.77C50.2 47.67 7.4 96.84 7 109.73v21.34c0 27.06 25.29 50.84 48.25 50.84 27.57 0 50.54-22.85 50.54-50 0 27.12 22.18 50 49.76 50s49-22.85 49-50c0 27.12 23.59 50 51.16 50h.5c27.57 0 51.16-22.85 51.16-50 0 27.12 21.47 50 49 50s49.76-22.85 49.76-50c0 27.12 23 50 50.54 50 23 0 48.25-23.78 48.25-50.84v-21.34c-.4-12.9-43.2-62.07-64.92-75C372.56 32.4 325.76 32 256 32S91.14 33.1 71.92 34.77zm132.32 134.39c-22 38.4-77.9 38.71-99.85.25-13.17 23.14-43.17 32.07-56 27.66-3.87 40.15-13.67 237.13 17.73 269.15 80 18.67 302.08 18.12 379.76 0 31.65-32.27 21.32-232 17.75-269.15-12.92 4.44-42.88-4.6-56-27.66-22 38.52-77.85 38.1-99.85-.24-7.1 12.49-23.05 28.94-51.76 28.94a57.54 57.54 0 0 1-51.75-28.94zm-41.58 53.77c16.47 0 31.09 0 49.22 19.78a436.91 436.91 0 0 1 88.18 0C318.22 223 332.85 223 349.31 223c52.33 0 65.22 77.53 83.87 144.45 17.26 62.15-5.52 63.67-33.95 63.73-42.15-1.57-65.49-32.18-65.49-62.79-39.25 6.43-101.93 8.79-155.55 0 0 30.61-23.34 61.22-65.49 62.79-28.42-.06-51.2-1.58-33.94-63.73 18.67-67 31.56-144.45 83.88-144.45zM256 270.79s-44.38 40.77-52.35 55.21l29-1.17v25.32c0 1.55 21.34.16 23.33.16 11.65.54 23.31 1 23.31-.16v-25.28l29 1.17c-8-14.48-52.35-55.24-52.35-55.24z" />
                    </svg>
                </a>
                <a href="mailto:amberkeqi@gmail.com"
                    style="background: transparent; border: none; padding: 0; transition: opacity 0.3s;">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                        <polyline points="22,6 12,13 2,6"></polyline>
                    </svg>
                </a>
            </div>
            <p style="margin-top: 20px; font-size: 0.8rem; opacity: 0.7;">&copy; 2026 Xinyue Wang. All Rights Reserved.
            </p>
        </div>
    </footer>

    <script>
        (function () {
            const nav = document.querySelector('header .nav-links');
            if (!nav) return;

            const links = Array.from(nav.querySelectorAll('a'));
            const indicator = nav.querySelector('.nav-indicator');

            function moveIndicatorTo(link) {
                if (!indicator || !link) return;
                requestAnimationFrame(() => {
                    const navRect = nav.getBoundingClientRect();
                    const linkRect = link.getBoundingClientRect();
                    indicator.style.width = `${linkRect.width}px`;
                    indicator.style.transform = `translateX(${linkRect.left - navRect.left}px)`;
                    indicator.style.opacity = '1';
                });
            }

            links.forEach(a => {
                a.addEventListener('click', () => {
                    links.forEach(link => link.classList.remove('active'));
                    a.classList.add('active');
                    moveIndicatorTo(a);
                });
            });

            const initialActive = nav.querySelector('a.active') || links[0];
            if (initialActive) {
                moveIndicatorTo(initialActive);
            }
        })();

        // Accordion functionality
        (function () {
            const accordion = document.getElementById('contrib-accordion');
            if (!accordion) return;

            const items = Array.from(accordion.querySelectorAll('.accordion-item'));

            function closeItem(it) {
                const content = it.querySelector('.accordion-content');
                const btn = it.querySelector('.accordion-header');
                if (!content || !btn) return;

                btn.setAttribute('aria-expanded', 'false');
                it.classList.remove('open');

                if (content.style.height === 'auto') {
                    content.style.height = content.scrollHeight + 'px';
                }

                requestAnimationFrame(() => {
                    content.style.height = '0px';
                });
            }

            function openItem(it) {
                const content = it.querySelector('.accordion-content');
                const btn = it.querySelector('.accordion-header');
                if (!content || !btn) return;

                btn.setAttribute('aria-expanded', 'true');
                it.classList.add('open');

                if (content.style.height === 'auto') {
                    content.style.height = '0px';
                }

                requestAnimationFrame(() => {
                    const targetHeight = content.scrollHeight;
                    content.style.height = targetHeight + 'px';
                });
            }

            items.forEach(item => {
                const btn = item.querySelector('.accordion-header');
                const content = item.querySelector('.accordion-content');
                if (!btn || !content) return;

                content.style.height = '0px';
                content.addEventListener('transitionend', (event) => {
                    if (event.propertyName !== 'height') return;
                    const isOpen = btn.getAttribute('aria-expanded') === 'true';
                    if (isOpen) {
                        content.style.height = 'auto';
                    }
                });

                if (btn.getAttribute('aria-expanded') === 'true') {
                    openItem(item);
                }

                btn.addEventListener('click', () => {
                    const isOpen = btn.getAttribute('aria-expanded') === 'true';
                    if (isOpen) {
                        closeItem(item);
                    } else {
                        openItem(item);
                    }
                });
            });

            // Sub-accordion functionality
            const subItems = Array.from(accordion.querySelectorAll('.sub-item'));
            subItems.forEach(subItem => {
                const btn = subItem.querySelector('.sub-header');
                const content = subItem.querySelector('.sub-content');
                if (!btn || !content) return;

                content.style.maxHeight = '0px';

                btn.addEventListener('click', () => {
                    const isOpen = btn.getAttribute('aria-expanded') === 'true';
                    if (isOpen) {
                        btn.setAttribute('aria-expanded', 'false');
                        content.style.maxHeight = '0px';
                    } else {
                        btn.setAttribute('aria-expanded', 'true');
                        content.style.maxHeight = content.scrollHeight + 'px';
                    }
                });
            });
        })();
    </script>
</body>

</html>